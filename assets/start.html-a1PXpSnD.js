import{_ as r,r as c,o as i,c as u,b as a,w as e,d as s,e as n,a as p}from"./app-CYuVcYeJ.js";const k={},d=p(`<h1 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始"><span>快速开始</span></a></h1><p>我们分别列出基座应用和子应用需要进行的修改，具体介绍<code>micro-app</code>的使用方式。</p><h3 id="基座应用" tabindex="-1"><a class="header-anchor" href="#基座应用"><span>基座应用</span></a></h3><p>1、安装依赖</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i @micro-zoe/micro-app <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2、在入口处引入</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> microApp <span class="token keyword">from</span> <span class="token string">&#39;@micro-zoe/micro-app&#39;</span>

microApp<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、分配一个路由给子应用</p>`,8),m=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// router.js"),n(`
`),s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token punctuation"},"{"),n(" BrowserRouter"),s("span",{class:"token punctuation"},","),n(" Switch"),s("span",{class:"token punctuation"},","),n(" Route "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'react-router-dom'"),n(`
`),s("span",{class:"token keyword"},"import"),n(" MyPage "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'./my-page'"),n(`

`),s("span",{class:"token keyword"},"export"),n(),s("span",{class:"token keyword"},"default"),n(),s("span",{class:"token keyword"},"function"),n(),s("span",{class:"token function"},"AppRoute"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n(`
    `),s("span",{class:"token operator"},"<"),n("BrowserRouter"),s("span",{class:"token operator"},">"),n(`
      `),s("span",{class:"token operator"},"<"),n("Switch"),s("span",{class:"token operator"},">"),n(`
        `),s("span",{class:"token comment"},"// 👇 非严格匹配，/my-page/* 都指向 MyPage 页面"),n(`
        `),s("span",{class:"token operator"},"<"),n("Route path"),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'/my-page'"),s("span",{class:"token operator"},">"),n(`
          `),s("span",{class:"token operator"},"<"),n("MyPage "),s("span",{class:"token operator"},"/"),s("span",{class:"token operator"},">"),n(`
        `),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("Route"),s("span",{class:"token operator"},">"),n(`
      `),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("Switch"),s("span",{class:"token operator"},">"),n(`
    `),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("BrowserRouter"),s("span",{class:"token operator"},">"),n(`
  `),s("span",{class:"token punctuation"},")"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),v=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// router.js"),n(`
`),s("span",{class:"token keyword"},"import"),n(" Vue "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'vue'"),n(`
`),s("span",{class:"token keyword"},"import"),n(" VueRouter "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'vue-router'"),n(`
`),s("span",{class:"token keyword"},"import"),n(" MyPage "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'./my-page.vue'"),n(`

Vue`),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"use"),s("span",{class:"token punctuation"},"("),n("VueRouter"),s("span",{class:"token punctuation"},")"),n(`

`),s("span",{class:"token keyword"},"const"),n(" routes "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"["),n(`
  `),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token comment"},"// 👇 非严格匹配，/my-page/* 都指向 MyPage 页面"),n(`
    `),s("span",{class:"token literal-property property"},"path"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'/my-page/*'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// vue-router@4.x path的写法为：'/my-page/:page*'"),n(`
    `),s("span",{class:"token literal-property property"},"name"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'my-page'"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token literal-property property"},"component"),s("span",{class:"token operator"},":"),n(" MyPage"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"]"),n(`

`),s("span",{class:"token keyword"},"export"),n(),s("span",{class:"token keyword"},"default"),n(` routes
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=s("p",null,[n("4、在"),s("code",null,"MyPage"),n("页面中嵌入子应用")],-1),g=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// my-page.js"),n(`
`),s("span",{class:"token keyword"},"export"),n(),s("span",{class:"token keyword"},"function"),n(),s("span",{class:"token function"},"MyPage"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n(`
    `),s("span",{class:"token operator"},"<"),n("div"),s("span",{class:"token operator"},">"),n(`
      `),s("span",{class:"token operator"},"<"),n("h1"),s("span",{class:"token operator"},">"),n("子应用"),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("h1"),s("span",{class:"token operator"},">"),n(`
      `),s("span",{class:"token comment"},"// name(必传)：应用名称"),n(`
      `),s("span",{class:"token comment"},"// url(必传)：应用地址，会被自动补全为http://localhost:3000/index.html"),n(`
      `),s("span",{class:"token comment"},"// baseroute(可选)：基座应用分配给子应用的基础路由，就是上面的 `/my-page`"),n(`
      `),s("span",{class:"token operator"},"<"),n("micro"),s("span",{class:"token operator"},"-"),n("app name"),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'app1'"),n(" url"),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'http://localhost:3000/'"),n(" baseroute"),s("span",{class:"token operator"},"="),s("span",{class:"token string"},"'/my-page'"),s("span",{class:"token operator"},">"),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("micro"),s("span",{class:"token operator"},"-"),n("app"),s("span",{class:"token operator"},">"),n(`
    `),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("div"),s("span",{class:"token operator"},">"),n(`
  `),s("span",{class:"token punctuation"},")"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),_=s("div",{class:"language-html line-numbers-mode","data-ext":"html","data-title":"html"},[s("pre",{class:"language-html"},[s("code",null,[s("span",{class:"token comment"},"<!-- my-page.vue -->"),n(`
`),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("template")]),s("span",{class:"token punctuation"},">")]),n(`
  `),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("div")]),s("span",{class:"token punctuation"},">")]),n(`
    `),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("h1")]),s("span",{class:"token punctuation"},">")]),n("子应用"),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("h1")]),s("span",{class:"token punctuation"},">")]),n(`
    `),s("span",{class:"token comment"},`<!-- 
      name(必传)：应用名称
      url(必传)：应用地址，会被自动补全为http://localhost:3000/index.html
      baseroute(可选)：基座应用分配给子应用的基础路由，就是上面的 \`/my-page\`
     -->`),n(`
    `),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("micro-app")]),n(),s("span",{class:"token attr-name"},"name"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},"'"),n("app1"),s("span",{class:"token punctuation"},"'")]),n(),s("span",{class:"token attr-name"},"url"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},"'"),n("http://localhost:3000/"),s("span",{class:"token punctuation"},"'")]),n(),s("span",{class:"token attr-name"},"baseroute"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},"'"),n("/my-page"),s("span",{class:"token punctuation"},"'")]),s("span",{class:"token punctuation"},">")]),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("micro-app")]),s("span",{class:"token punctuation"},">")]),n(`
  `),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("div")]),s("span",{class:"token punctuation"},">")]),n(`
`),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("template")]),s("span",{class:"token punctuation"},">")]),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),h=s("h3",{id:"子应用",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#子应用"},[s("span",null,"子应用")])],-1),y=s("p",null,[n("1、设置基础路由"),s("code",null,"(如果基座应用是history路由，子应用是hash路由，这一步可以省略)")],-1),w=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// router.js"),n(`
`),s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token punctuation"},"{"),n(" BrowserRouter"),s("span",{class:"token punctuation"},","),n(" Switch"),s("span",{class:"token punctuation"},","),n(" Route "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'react-router-dom'"),n(`

`),s("span",{class:"token keyword"},"export"),n(),s("span",{class:"token keyword"},"default"),n(),s("span",{class:"token keyword"},"function"),n(),s("span",{class:"token function"},"AppRoute"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token punctuation"},"("),n(`
    `),s("span",{class:"token comment"},"// 👇 设置基础路由，子应用可以通过window.__MICRO_APP_BASE_ROUTE__获取基座下发的baseroute，如果没有设置baseroute属性，则此值默认为空字符串"),n(`
    `),s("span",{class:"token operator"},"<"),n("BrowserRouter basename"),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"{"),n("window"),s("span",{class:"token punctuation"},"."),n("__MICRO_APP_BASE_ROUTE__ "),s("span",{class:"token operator"},"||"),n(),s("span",{class:"token string"},"'/'"),s("span",{class:"token punctuation"},"}"),s("span",{class:"token operator"},">"),n(`
      `),s("span",{class:"token operator"},"..."),n(`
    `),s("span",{class:"token operator"},"<"),s("span",{class:"token operator"},"/"),n("BrowserRouter"),s("span",{class:"token operator"},">"),n(`
  `),s("span",{class:"token punctuation"},")"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),f=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// main.js"),n(`
`),s("span",{class:"token keyword"},"import"),n(" Vue "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'vue'"),n(`
`),s("span",{class:"token keyword"},"import"),n(" VueRouter "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'vue-router'"),n(`
`),s("span",{class:"token keyword"},"import"),n(" routes "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},"'./router'"),n(`

`),s("span",{class:"token keyword"},"const"),n(" router "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"VueRouter"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token comment"},"// 👇 设置基础路由，子应用可以通过window.__MICRO_APP_BASE_ROUTE__获取基座下发的baseroute，如果没有设置baseroute属性，则此值默认为空字符串"),n(`
  `),s("span",{class:"token literal-property property"},"base"),s("span",{class:"token operator"},":"),n(" window"),s("span",{class:"token punctuation"},"."),n("__MICRO_APP_BASE_ROUTE__ "),s("span",{class:"token operator"},"||"),n(),s("span",{class:"token string"},"'/'"),s("span",{class:"token punctuation"},","),n(`
  routes`),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),n(`

`),s("span",{class:"token keyword"},"let"),n(" app "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"Vue"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"{"),n(`
  router`),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token function-variable function"},"render"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token parameter"},"h"),n(),s("span",{class:"token operator"},"=>"),n(),s("span",{class:"token function"},"h"),s("span",{class:"token punctuation"},"("),n("App"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"$mount"),s("span",{class:"token punctuation"},"("),s("span",{class:"token string"},"'#app'"),s("span",{class:"token punctuation"},")"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),j=p(`<p>2、在webpack-dev-server的headers中设置跨域支持。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;Access-Control-Allow-Origin&#39;</span><span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完成以上步骤微前端即可正常渲染。</p>`,3),R={class:"custom-container note"},E=s("p",{class:"custom-container-title"},"Note",-1),x=s("li",null,"name必须以字母开头，且不可以带有除中划线和下划线外的特殊符号",-1);function A(B,P){const t=c("CodeGroupItem"),o=c("CodeGroup"),l=c("RouterLink");return i(),u("div",null,[d,a(o,null,{default:e(()=>[a(t,{title:"React"},{default:e(()=>[m]),_:1}),a(t,{title:"Vue"},{default:e(()=>[v]),_:1})]),_:1}),b,a(o,null,{default:e(()=>[a(t,{title:"React"},{default:e(()=>[g]),_:1}),a(t,{title:"Vue"},{default:e(()=>[_]),_:1})]),_:1}),h,y,a(o,null,{default:e(()=>[a(t,{title:"React"},{default:e(()=>[w]),_:1}),a(t,{title:"Vue"},{default:e(()=>[f]),_:1})]),_:1}),j,s("div",R,[E,s("ol",null,[x,s("li",null,[n("url只是html地址，子应用的页面渲染还是基于浏览器地址的，关于这点请查看"),a(l,{to:"/v0/zh/route.html"},{default:e(()=>[n("路由一章")]),_:1})]),s("li",null,[n("baseroute的作用请查看"),a(l,{to:"/v0/zh/route.html#%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"},{default:e(()=>[n("路由配置")]),_:1})]),s("li",null,[n("子应用必须支持跨域访问，跨域配置参考"),a(l,{to:"/v0/zh/questions.html#_2%E3%80%81%E5%AD%90%E5%BA%94%E7%94%A8%E4%B8%80%E5%AE%9A%E8%A6%81%E6%94%AF%E6%8C%81%E8%B7%A8%E5%9F%9F%E5%90%97"},{default:e(()=>[n("这里")]),_:1})])])])])}const C=r(k,[["render",A],["__file","start.html.vue"]]);export{C as default};
