import{_ as c,r as o,o as l,c as i,b as a,w as e,d as s,e as n,a as u}from"./app-Js4EkCke.js";const k={},d=s("h2",{id:"前言",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#前言"},[s("span",null,"前言")])],-1),v=s("p",null,[n("我们强烈建议你保持开发环境和线上环境路径("),s("em",null,"即webpack的publicPath"),n(")的一致性，以避免在部署后出现问题，无论是主应用还是子应用。")],-1),m=s("p",null,[n("比如一个应用，在部署时作为文件夹 "),s("code",null,"my-app"),n(" 放入服务器根目录，那么配置如下：")],-1),b=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// webpack.config.js"),n(`
module`),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"output"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token literal-property property"},"path"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'my-app'"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(" process"),s("span",{class:"token punctuation"},"."),n("env"),s("span",{class:"token punctuation"},"."),s("span",{class:"token constant"},"NODE_ENV"),n(),s("span",{class:"token operator"},"==="),n(),s("span",{class:"token string"},"'production'"),n(),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token string"},"'/my-app/'"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"''"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// bad ❌"),n(`
    `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'/my-app/'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// good 👍"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),g=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// vue.config.js"),n(`
module`),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"outputDir"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'my-app'"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(" process"),s("span",{class:"token punctuation"},"."),n("env"),s("span",{class:"token punctuation"},"."),s("span",{class:"token constant"},"NODE_ENV"),n(),s("span",{class:"token operator"},"==="),n(),s("span",{class:"token string"},"'production'"),n(),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token string"},"'/my-app/'"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"''"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// bad ❌"),n(`
  `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'/my-app/'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// good 👍"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),h=s("h2",{id:"示例",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#示例"},[s("span",null,"示例")])],-1),_=s("p",null,"正常来说只要开发环境和线上环境资源路径一致，并在部署后设置好nginx的跨域即可，在开发环境正常运行的项目，部署到服务器后，理论上也可以正常运行。",-1),f=s("p",null,"但在实际开发中经常会出现地址404、资源丢失等问题，这通常是因为服务器配置错误或者micro-app元素url属性地址错误导致。",-1),x={href:"https://github.com/micro-zoe/micro-app-demo",target:"_blank",rel:"noopener noreferrer"},j=s("code",null,"micro-app-demo",-1),w=u(`<h4 id="代码仓库目录结构" tabindex="-1"><a class="header-anchor" href="#代码仓库目录结构"><span>代码仓库目录结构：</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>.
├── child_apps
│   ├── angular11        // 子应用 angular11 (history路由)
│   ├── nextjs11         // 子应用 nextjs11 (history路由)
│   ├── nuxtjs2          // 子应用 nuxtjs2 (history路由) 
│   ├── react16          // 子应用 react16 (history路由)
│   ├── react17          // 子应用 react17 (hash路由)
│   ├── sidebar          // 子应用 sidebar，公共侧边栏
│   ├── vite-vue3        // 子应用 vite (hash路由)
│   ├── vue2             // 子应用 vue2 (history路由)
│   └── vue3             // 子应用 vue3 (history路由)
├── main_apps
│   ├── angular11        // 主应用 angular11 (history路由)
│   ├── nextjs11         // 主应用 nextjs11 (history路由)
│   ├── nuxtjs2          // 主应用 nuxtjs2 (history路由)
│   ├── react16          // 主应用 react16 (history路由)
│   ├── react17          // 主应用 react17 (history路由)
│   ├── vite-vue3        // 主应用 vite (history路由)
│   ├── vue2             // 主应用 vue2 (history路由)
│   └── vue3             // 主应用 vue3 (history路由)
├── package.json
└── yarn.lock
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="部署到服务器的目录结构" tabindex="-1"><a class="header-anchor" href="#部署到服务器的目录结构"><span>部署到服务器的目录结构：</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>root(服务器根目录)
├── child
│   ├── angular11         // 子应用 angular11
│   ├── react16           // 子应用 react16
│   ├── react17           // 子应用 react17
│   ├── sidebar           // 子应用 sidebar
│   ├── vite              // 子应用 vite
│   ├── vue2              // 子应用 vue2
│   ├── vue3              // 子应用 vue3
│   ├── nextjs11          // 子应用 nextjs11，为每个主应用单独打包，端口号：5001~5009
│   └── nuxtjs2           // 子应用 nuxtjs2，为每个主应用单独打包，端口号：6001~6009
│ 
├── main-angular11        // 主应用 angular11
├── main-react16          // 主应用 react16
├── main-react17          // 主应用 react17
├── main-vite             // 主应用 vite
├── main-vue2             // 主应用 vue2
├── main-vue3             // 主应用 vue3
├── main-nextjs11         // 主应用 nextjs11，监听端口号：5000
├── main-nuxtjs2          // 主应用 nuxtjs2，监听端口号：7000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="nginx配置如下" tabindex="-1"><a class="header-anchor" href="#nginx配置如下"><span>nginx配置如下：</span></a></h4><p>以下配置仅供参考，具体项目根据实际情况调整。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code># micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com 相关配置
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  www<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    index index<span class="token punctuation">.</span>php index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>angular11
  location <span class="token operator">/</span>main<span class="token operator">-</span>angular11 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>angular11<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>react16
  location <span class="token operator">/</span>main<span class="token operator">-</span>react16 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>react16<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>react17
  location <span class="token operator">/</span>main<span class="token operator">-</span>react17 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>react17<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>vite
  location <span class="token operator">/</span>main<span class="token operator">-</span>vite <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vite<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>vue2
  location <span class="token operator">/</span>main<span class="token operator">-</span>vue2 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vue2<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 主应用main<span class="token operator">-</span>vue3
  location <span class="token operator">/</span>main<span class="token operator">-</span>vue3 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vue3<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>angular11
  location <span class="token operator">/</span>child<span class="token operator">/</span>angular11 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>angular11<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>react16
  location <span class="token operator">/</span>child<span class="token operator">/</span>react16 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>react16<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>react17
  location <span class="token operator">/</span>child<span class="token operator">/</span>react17 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>react17<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  # 子应用child<span class="token operator">-</span>sidebar
  location <span class="token operator">/</span>child<span class="token operator">/</span>sidebar <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>sidebar<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>vite
  location <span class="token operator">/</span>child<span class="token operator">/</span>vite <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vite<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>vue2
  location <span class="token operator">/</span>child<span class="token operator">/</span>vue2 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vue2<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # 子应用child<span class="token operator">-</span>vue3
  location <span class="token operator">/</span>child<span class="token operator">/</span>vue3 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vue3<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
      location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
      location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# 主应用nextjs11部署后监听<span class="token number">5000</span>端口，设置代理指向<span class="token number">5000</span>端口，则可以通过 nextjs11<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com 访问主应用
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  nextjs11<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  root html<span class="token punctuation">;</span>
  index index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5000</span><span class="token punctuation">;</span>
    proxy_set_header Host $host<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
        add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
        add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# 主应用nuxtjs2部署后监听<span class="token number">7000</span>端口，设置代理指向<span class="token number">7000</span>端口，则可以通过 nuxtjs2<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com 访问主应用
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  nuxtjs2<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  root html<span class="token punctuation">;</span>
  index index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">7000</span><span class="token punctuation">;</span>
    proxy_set_header Host $host<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
        add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
        add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="线上效果如下" tabindex="-1"><a class="header-anchor" href="#线上效果如下"><span>线上效果如下：</span></a></h4>`,8),y={href:"http://www.micro-zoe.com/main-vue2/",target:"_blank",rel:"noopener noreferrer"},C={href:"http://nextjs11.micro-zoe.com/",target:"_blank",rel:"noopener noreferrer"},$={href:"http://nuxtjs2.micro-zoe.com/",target:"_blank",rel:"noopener noreferrer"};function A(O,z){const t=o("CodeGroupItem"),r=o("CodeGroup"),p=o("ExternalLinkIcon");return l(),i("div",null,[d,v,m,a(r,null,{default:e(()=>[a(t,{title:"webpack"},{default:e(()=>[b]),_:1}),a(t,{title:"vue-cli"},{default:e(()=>[g]),_:1})]),_:1}),h,_,f,s("p",null,[n("我们以"),s("a",x,[n("micro-app-demo"),a(p)]),n("为例介绍部署相关内容，以供大家参考，因为"),j,n("覆盖了history路由、hash路由、ssr、根路径、二级路径等大部分场景，是一个典型的案例。")]),w,s("ul",null,[s("li",null,[n("main-vue2："),s("a",y,[n("http://www.micro-zoe.com/main-vue2/"),a(p)])]),s("li",null,[n("main-nextjs11："),s("a",C,[n("http://nextjs11.micro-zoe.com/"),a(p)])]),s("li",null,[n("main-nuxtjs2："),s("a",$,[n("http://nuxtjs2.micro-zoe.com/"),a(p)])])])])}const N=c(k,[["render",A],["__file","deploy.html.vue"]]);export{N as default};
