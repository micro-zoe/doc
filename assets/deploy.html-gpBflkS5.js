import{_ as c,r as o,o as l,c as i,b as a,w as e,d as s,e as n,a as u}from"./app-eF4imkDp.js";const k={},d=s("h1",{id:"éƒ¨ç½²",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#éƒ¨ç½²"},[s("span",null,"éƒ¨ç½²")])],-1),v=s("h2",{id:"å‰è¨€",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å‰è¨€"},[s("span",null,"å‰è¨€")])],-1),m=s("p",null,[n("æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ä¿æŒå¼€å‘ç¯å¢ƒå’Œçº¿ä¸Šç¯å¢ƒè·¯å¾„("),s("em",null,"å³webpackçš„publicPath"),n(")çš„ä¸€è‡´æ€§ï¼Œä»¥é¿å…åœ¨éƒ¨ç½²åå‡ºç°é—®é¢˜ï¼Œæ— è®ºæ˜¯åŸºåº§åº”ç”¨è¿˜æ˜¯å­åº”ç”¨ã€‚")],-1),b=s("p",null,[n("æ¯”å¦‚ä¸€ä¸ªåº”ç”¨ï¼Œåœ¨éƒ¨ç½²æ—¶ä½œä¸ºæ–‡ä»¶å¤¹ "),s("code",null,"my-app"),n(" æ”¾å…¥æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œé‚£ä¹ˆé…ç½®å¦‚ä¸‹ï¼š")],-1),g=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// webpack.config.js"),n(`
module`),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"output"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token literal-property property"},"path"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'my-app'"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(" process"),s("span",{class:"token punctuation"},"."),n("env"),s("span",{class:"token punctuation"},"."),s("span",{class:"token constant"},"NODE_ENV"),n(),s("span",{class:"token operator"},"==="),n(),s("span",{class:"token string"},"'production'"),n(),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token string"},"'/my-app/'"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"''"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// bad âŒ"),n(`
    `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'/my-app/'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// good ğŸ‘"),n(`
  `),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),h=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token comment"},"// vue.config.js"),n(`
module`),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"outputDir"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'my-app'"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(" process"),s("span",{class:"token punctuation"},"."),n("env"),s("span",{class:"token punctuation"},"."),s("span",{class:"token constant"},"NODE_ENV"),n(),s("span",{class:"token operator"},"==="),n(),s("span",{class:"token string"},"'production'"),n(),s("span",{class:"token operator"},"?"),n(),s("span",{class:"token string"},"'/my-app/'"),n(),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"''"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// bad âŒ"),n(`
  `),s("span",{class:"token literal-property property"},"publicPath"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'/my-app/'"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token comment"},"// good ğŸ‘"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),_=s("h2",{id:"ç¤ºä¾‹",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ç¤ºä¾‹"},[s("span",null,"ç¤ºä¾‹")])],-1),f=s("p",null,"æ­£å¸¸æ¥è¯´åªè¦å¼€å‘ç¯å¢ƒå’Œçº¿ä¸Šç¯å¢ƒèµ„æºè·¯å¾„ä¸€è‡´ï¼Œå¹¶åœ¨éƒ¨ç½²åè®¾ç½®å¥½nginxçš„è·¨åŸŸå³å¯ï¼Œåœ¨å¼€å‘ç¯å¢ƒæ­£å¸¸è¿è¡Œçš„é¡¹ç›®ï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œç†è®ºä¸Šä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚",-1),x=s("p",null,"ä½†åœ¨å®é™…å¼€å‘ä¸­ç»å¸¸ä¼šå‡ºç°åœ°å€404ã€èµ„æºä¸¢å¤±ç­‰é—®é¢˜ï¼Œè¿™é€šå¸¸æ˜¯å› ä¸ºæœåŠ¡å™¨é…ç½®é”™è¯¯æˆ–è€…micro-appå…ƒç´ urlå±æ€§åœ°å€é”™è¯¯å¯¼è‡´ã€‚",-1),j={href:"https://github.com/micro-zoe/micro-app-demo-0.x",target:"_blank",rel:"noopener noreferrer"},w=s("code",null,"micro-app-demo",-1),y=u(`<h4 id="ä»£ç ä»“åº“ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ä»£ç ä»“åº“ç›®å½•ç»“æ„"><span>ä»£ç ä»“åº“ç›®å½•ç»“æ„ï¼š</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>.
â”œâ”€â”€ child_apps
â”‚   â”œâ”€â”€ angular11        // å­åº”ç”¨ angular11 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ nextjs11         // å­åº”ç”¨ nextjs11 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ nuxtjs2          // å­åº”ç”¨ nuxtjs2 (historyè·¯ç”±) 
â”‚   â”œâ”€â”€ react16          // å­åº”ç”¨ react16 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ react17          // å­åº”ç”¨ react17 (hashè·¯ç”±)
â”‚   â”œâ”€â”€ sidebar          // å­åº”ç”¨ sidebarï¼Œå…¬å…±ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ vite-vue3        // å­åº”ç”¨ vite (hashè·¯ç”±)
â”‚   â”œâ”€â”€ vue2             // å­åº”ç”¨ vue2 (historyè·¯ç”±)
â”‚   â””â”€â”€ vue3             // å­åº”ç”¨ vue3 (historyè·¯ç”±)
â”œâ”€â”€ main_apps
â”‚   â”œâ”€â”€ angular11        // ä¸»åº”ç”¨ angular11 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ nextjs11         // ä¸»åº”ç”¨ nextjs11 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ nuxtjs2          // ä¸»åº”ç”¨ nuxtjs2 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ react16          // ä¸»åº”ç”¨ react16 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ react17          // ä¸»åº”ç”¨ react17 (historyè·¯ç”±)
â”‚   â”œâ”€â”€ vite-vue3        // ä¸»åº”ç”¨ vite (historyè·¯ç”±)
â”‚   â”œâ”€â”€ vue2             // ä¸»åº”ç”¨ vue2 (historyè·¯ç”±)
â”‚   â””â”€â”€ vue3             // ä¸»åº”ç”¨ vue3 (historyè·¯ç”±)
â”œâ”€â”€ package.json
â””â”€â”€ yarn.lock
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ç›®å½•ç»“æ„"><span>éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ç›®å½•ç»“æ„ï¼š</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>root(æœåŠ¡å™¨æ ¹ç›®å½•)
â”œâ”€â”€ child
â”‚   â”œâ”€â”€ angular11         // å­åº”ç”¨ angular11
â”‚   â”œâ”€â”€ react16           // å­åº”ç”¨ react16
â”‚   â”œâ”€â”€ react17           // å­åº”ç”¨ react17
â”‚   â”œâ”€â”€ sidebar           // å­åº”ç”¨ sidebar
â”‚   â”œâ”€â”€ vite              // å­åº”ç”¨ vite
â”‚   â”œâ”€â”€ vue2              // å­åº”ç”¨ vue2
â”‚   â”œâ”€â”€ vue3              // å­åº”ç”¨ vue3
â”‚   â”œâ”€â”€ nextjs11          // å­åº”ç”¨ nextjs11ï¼Œä¸ºæ¯ä¸ªåŸºåº§åº”ç”¨å•ç‹¬æ‰“åŒ…ï¼Œç«¯å£å·ï¼š5001~5009
â”‚   â””â”€â”€ nuxtjs2           // å­åº”ç”¨ nuxtjs2ï¼Œä¸ºæ¯ä¸ªåŸºåº§åº”ç”¨å•ç‹¬æ‰“åŒ…ï¼Œç«¯å£å·ï¼š6001~6009
â”‚ 
â”œâ”€â”€ main-angular11        // ä¸»åº”ç”¨ angular11
â”œâ”€â”€ main-react16          // ä¸»åº”ç”¨ react16
â”œâ”€â”€ main-react17          // ä¸»åº”ç”¨ react17
â”œâ”€â”€ main-vite             // ä¸»åº”ç”¨ vite
â”œâ”€â”€ main-vue2             // ä¸»åº”ç”¨ vue2
â”œâ”€â”€ main-vue3             // ä¸»åº”ç”¨ vue3
â”œâ”€â”€ main-nextjs11         // ä¸»åº”ç”¨ nextjs11ï¼Œç›‘å¬ç«¯å£å·ï¼š5000
â”œâ”€â”€ main-nuxtjs2          // ä¸»åº”ç”¨ nuxtjs2ï¼Œç›‘å¬ç«¯å£å·ï¼š7000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="nginxé…ç½®å¦‚ä¸‹" tabindex="-1"><a class="header-anchor" href="#nginxé…ç½®å¦‚ä¸‹"><span>nginxé…ç½®å¦‚ä¸‹ï¼š</span></a></h4><p>ä»¥ä¸‹é…ç½®ä»…ä¾›å‚è€ƒï¼Œå…·ä½“é¡¹ç›®æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code># micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com ç›¸å…³é…ç½®
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  www<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    index index<span class="token punctuation">.</span>php index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>angular11
  location <span class="token operator">/</span>main<span class="token operator">-</span>angular11 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>angular11<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>react16
  location <span class="token operator">/</span>main<span class="token operator">-</span>react16 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>react16<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>react17
  location <span class="token operator">/</span>main<span class="token operator">-</span>react17 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>react17<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>vite
  location <span class="token operator">/</span>main<span class="token operator">-</span>vite <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vite<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>vue2
  location <span class="token operator">/</span>main<span class="token operator">-</span>vue2 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vue2<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # ä¸»åº”ç”¨main<span class="token operator">-</span>vue3
  location <span class="token operator">/</span>main<span class="token operator">-</span>vue3 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>main<span class="token operator">-</span>vue3<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>angular11
  location <span class="token operator">/</span>child<span class="token operator">/</span>angular11 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>angular11<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>react16
  location <span class="token operator">/</span>child<span class="token operator">/</span>react16 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>react16<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>react17
  location <span class="token operator">/</span>child<span class="token operator">/</span>react17 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>react17<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  # å­åº”ç”¨child<span class="token operator">-</span>sidebar
  location <span class="token operator">/</span>child<span class="token operator">/</span>sidebar <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>sidebar<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>vite
  location <span class="token operator">/</span>child<span class="token operator">/</span>vite <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vite<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>vue2
  location <span class="token operator">/</span>child<span class="token operator">/</span>vue2 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vue2<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  # å­åº”ç”¨child<span class="token operator">-</span>vue3
  location <span class="token operator">/</span>child<span class="token operator">/</span>vue3 <span class="token punctuation">{</span>
    root <span class="token operator">/</span>root<span class="token operator">/</span>mygit<span class="token operator">/</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">;</span>
    add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
      add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
      add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>child<span class="token operator">/</span>vue3<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
      location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
      location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# ä¸»åº”ç”¨nextjs11éƒ¨ç½²åç›‘å¬<span class="token number">5000</span>ç«¯å£ï¼Œè®¾ç½®ä»£ç†æŒ‡å‘<span class="token number">5000</span>ç«¯å£ï¼Œåˆ™å¯ä»¥é€šè¿‡ nextjs11<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com è®¿é—®ä¸»åº”ç”¨
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  nextjs11<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  root html<span class="token punctuation">;</span>
  index index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5000</span><span class="token punctuation">;</span>
    proxy_set_header Host $host<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
        add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
        add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# ä¸»åº”ç”¨nuxtjs2éƒ¨ç½²åç›‘å¬<span class="token number">7000</span>ç«¯å£ï¼Œè®¾ç½®ä»£ç†æŒ‡å‘<span class="token number">7000</span>ç«¯å£ï¼Œåˆ™å¯ä»¥é€šè¿‡ nuxtjs2<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com è®¿é—®ä¸»åº”ç”¨
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  nuxtjs2<span class="token punctuation">.</span>micro<span class="token operator">-</span>zoe<span class="token punctuation">.</span>com<span class="token punctuation">;</span>

  root html<span class="token punctuation">;</span>
  index index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>

  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">7000</span><span class="token punctuation">;</span>
    proxy_set_header Host $host<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>
    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
    # add_header Cache<span class="token operator">-</span>Control<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> $request_uri <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">^</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>tif<span class="token operator">|</span>dpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>eot<span class="token operator">|</span>svg<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>json<span class="token operator">|</span>mp4<span class="token operator">|</span>rmvb<span class="token operator">|</span>rm<span class="token operator">|</span>wmv<span class="token operator">|</span>avi<span class="token operator">|</span>3gp<span class="token punctuation">)</span>$ <span class="token punctuation">)</span><span class="token punctuation">{</span>
        add_header Cache<span class="token operator">-</span>Control max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">7776000</span><span class="token punctuation">;</span>
        add_header Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin <span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


  error_page <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>40x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="çº¿ä¸Šæ•ˆæœå¦‚ä¸‹" tabindex="-1"><a class="header-anchor" href="#çº¿ä¸Šæ•ˆæœå¦‚ä¸‹"><span>çº¿ä¸Šæ•ˆæœå¦‚ä¸‹ï¼š</span></a></h4>`,8),C={href:"http://www.micro-zoe.com/main-vue2/",target:"_blank",rel:"noopener noreferrer"},$={href:"http://nextjs11.micro-zoe.com/",target:"_blank",rel:"noopener noreferrer"},A={href:"http://nuxtjs2.micro-zoe.com/",target:"_blank",rel:"noopener noreferrer"};function O(z,q){const t=o("CodeGroupItem"),r=o("CodeGroup"),p=o("ExternalLinkIcon");return l(),i("div",null,[d,v,m,b,a(r,null,{default:e(()=>[a(t,{title:"webpack"},{default:e(()=>[g]),_:1}),a(t,{title:"vue-cli"},{default:e(()=>[h]),_:1})]),_:1}),_,f,x,s("p",null,[n("æˆ‘ä»¬ä»¥"),s("a",j,[n("micro-app-demo"),a(p)]),n("ä¸ºä¾‹ä»‹ç»éƒ¨ç½²ç›¸å…³å†…å®¹ï¼Œä»¥ä¾›å¤§å®¶å‚è€ƒï¼Œå› ä¸º"),w,n("è¦†ç›–äº†historyè·¯ç”±ã€hashè·¯ç”±ã€ssrã€æ ¹è·¯å¾„ã€äºŒçº§è·¯å¾„ç­‰å¤§éƒ¨åˆ†åœºæ™¯ï¼Œæ˜¯ä¸€ä¸ªå…¸å‹çš„æ¡ˆä¾‹ã€‚")]),y,s("ul",null,[s("li",null,[n("main-vue2ï¼š"),s("a",C,[n("http://www.micro-zoe.com/main-vue2/"),a(p)])]),s("li",null,[n("main-nextjs11ï¼š"),s("a",$,[n("http://nextjs11.micro-zoe.com/"),a(p)])]),s("li",null,[n("main-nuxtjs2ï¼š"),s("a",A,[n("http://nuxtjs2.micro-zoe.com/"),a(p)])])])])}const E=c(k,[["render",O],["__file","deploy.html.vue"]]);export{E as default};
