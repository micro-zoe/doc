import{_ as i,r as t,o as u,c as r,d as n,e as s,b as a,w as e,a as c}from"./app-eF4imkDp.js";const k={},d=n("h1",{id:"åº”ç”¨ä¹‹é—´è·³è½¬",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#åº”ç”¨ä¹‹é—´è·³è½¬"},[n("span",null,"åº”ç”¨ä¹‹é—´è·³è½¬")])],-1),m=n("p",null,"æ¯ä¸ªåº”ç”¨çš„è·¯ç”±å®ä¾‹éƒ½æ˜¯ä¸åŒçš„ï¼Œåº”ç”¨çš„è·¯ç”±å®ä¾‹åªèƒ½æ§åˆ¶è‡ªèº«ï¼Œæ— æ³•å½±å“å…¶å®ƒåº”ç”¨ï¼ŒåŒ…æ‹¬åŸºåº§åº”ç”¨æ— æ³•é€šè¿‡æ§åˆ¶è‡ªèº«è·¯ç”±å½±å“åˆ°å­åº”ç”¨ã€‚",-1),v=n("blockquote",null,[n("p",null,"å¸¸è§çš„é—®é¢˜å¦‚ï¼šå¼€å‘è€…æƒ³é€šè¿‡åŸºåº§åº”ç”¨çš„ä¾§è¾¹æ è·³è½¬ï¼Œä»è€Œæ§åˆ¶å­åº”ç”¨çš„é¡µé¢ï¼Œè¿™å…¶å®æ˜¯åšä¸åˆ°çš„ï¼Œåªæœ‰å­åº”ç”¨çš„è·¯ç”±å®ä¾‹å¯ä»¥æ§åˆ¶è‡ªèº«çš„é¡µé¢ã€‚")],-1),h=n("p",null,[n("strong",null,"è¦å®ç°åº”ç”¨ä¹‹é—´çš„è·³è½¬æœ‰ä¸¤ç§æ–¹å¼ï¼š")],-1),b=n("h2",{id:"æ–¹å¼ä¸€ã€window-history",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ–¹å¼ä¸€ã€window-history"},[n("span",null,"æ–¹å¼ä¸€ã€window.history")])],-1),g={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/History/pushState",target:"_blank",rel:"noopener noreferrer"},f={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/History/replaceState",target:"_blank",rel:"noopener noreferrer"},y=c(`<p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;page2&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// ä¸»åŠ¨è§¦å‘ä¸€æ¬¡popstateäº‹ä»¶</span>
window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PopStateEvent</span><span class="token punctuation">(</span><span class="token string">&#39;popstate&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">state</span><span class="token operator">:</span> history<span class="token punctuation">.</span>state <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºhashè·¯ç”±ä¹ŸåŒæ ·é€‚ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;#/page2&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// ä¸»åŠ¨è§¦å‘ä¸€æ¬¡popstateäº‹ä»¶</span>
window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PopStateEvent</span><span class="token punctuation">(</span><span class="token string">&#39;popstate&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">state</span><span class="token operator">:</span> history<span class="token punctuation">.</span>state <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æ³¨æ„äº‹é¡¹</p><ol><li>popstateäº‹ä»¶æ˜¯å…¨å±€å‘é€çš„ï¼Œæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨éƒ½ä¼šæ¥å—åˆ°æ–°çš„è·¯ç”±åœ°å€å¹¶è¿›è¡ŒåŒ¹é…ï¼Œè¦é˜²æ­¢å…œåº•åˆ°åº”ç”¨çš„404é¡µé¢ã€‚</li><li>window.historyå¹¶éé€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼Œä¸€äº›æ¡†æ¶å¦‚vue-router4ï¼Œangularä¼šå‡ºç°é—®é¢˜ï¼Œæ­¤æ—¶å»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼2ã€3ã€‚</li></ol></div><h2 id="æ–¹å¼äºŒã€é€šè¿‡æ•°æ®é€šä¿¡æ§åˆ¶è·³è½¬" tabindex="-1"><a class="header-anchor" href="#æ–¹å¼äºŒã€é€šè¿‡æ•°æ®é€šä¿¡æ§åˆ¶è·³è½¬"><span>æ–¹å¼äºŒã€é€šè¿‡æ•°æ®é€šä¿¡æ§åˆ¶è·³è½¬</span></a></h2><p><em>é€‚ç”¨åœºæ™¯: åŸºåº§æ§åˆ¶å­åº”ç”¨è·³è½¬</em></p><p><strong>å­åº”ç”¨ä¸­ç›‘å¬æ•°æ®å˜åŒ–</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ç›‘å¬åŸºåº§ä¸‹å‘çš„æ•°æ®å˜åŒ–</span>
window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">addDataListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“åŸºåº§ä¸‹å‘è·³è½¬æŒ‡ä»¤æ—¶è¿›è¡Œè·³è½¬</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŸºåº§ä¸‹å‘è·³è½¬æŒ‡ä»¤</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> microApp <span class="token keyword">from</span> <span class="token string">&#39;@micro-zoe/micro-app&#39;</span>

microApp<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&#39;å­åº”ç”¨name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/new-path/&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ–¹å¼ä¸‰ã€ä¼ é€’è·¯ç”±å®ä¾‹æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹å¼ä¸‰ã€ä¼ é€’è·¯ç”±å®ä¾‹æ–¹æ³•"><span>æ–¹å¼ä¸‰ã€ä¼ é€’è·¯ç”±å®ä¾‹æ–¹æ³•</span></a></h2><p><em>é€‚ç”¨åœºæ™¯: å­åº”ç”¨æ§åˆ¶åŸºåº§è·³è½¬</em></p><p><strong>åŸºåº§ä¸‹å‘pushStateå‡½æ•°ï¼š</strong></p>`,14),w=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" useEffect "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'react'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" useHistory "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'react-router-dom'"),s(`
`),n("span",{class:"token keyword"},"import"),s(" microApp"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" removeDomScope "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@micro-zoe/micro-app'"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" history "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"useHistory"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"pushState"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"path"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"removeDomScope"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    history`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),s("path"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token function"},"useEffect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// ğŸ‘‡ åŸºåº§å‘å­åº”ç”¨ä¸‹å‘ä¸€ä¸ªåä¸ºpushStateçš„æ–¹æ³•"),s(`
    microApp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setData"),n("span",{class:"token punctuation"},"("),s("å­åº”ç”¨åç§°"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" pushState "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`

  `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token operator"},"<"),s("div"),n("span",{class:"token operator"},">"),s(`
      `),n("span",{class:"token operator"},"<"),s("micro"),n("span",{class:"token operator"},"-"),s("app name"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'å­åº”ç”¨åç§°'"),s(" url"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'url'"),n("span",{class:"token operator"},">"),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("micro"),n("span",{class:"token operator"},"-"),s("app"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("div"),n("span",{class:"token operator"},">"),s(`
  `),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),_=n("div",{class:"language-html line-numbers-mode","data-ext":"html","data-title":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("micro-app")]),s(`
    `),n("span",{class:"token attr-name"},"name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},"'"),s("å­åº”ç”¨åç§°"),n("span",{class:"token punctuation"},"'")]),s(` 
    `),n("span",{class:"token attr-name"},"url"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},"'"),s("url"),n("span",{class:"token punctuation"},"'")]),s(`
    `),n("span",{class:"token attr-name"},":data"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},"'"),s("microAppData"),n("span",{class:"token punctuation"},"'")]),s(`
  `),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("micro-app")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" removeDomScope "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@micro-zoe/micro-app'"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"data"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"microAppData"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function-variable function"},"pushState"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"path"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token function"},"removeDomScope"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
          `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("$router"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),s("path"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=c(`<p><strong>å­åº”ç”¨ä½¿ç”¨pushStateæ§åˆ¶åŸºåº§è·³è½¬ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2);function x(S,A){const o=t("ExternalLinkIcon"),p=t("CodeGroupItem"),l=t("CodeGroup");return u(),r("div",null,[d,m,v,h,b,n("p",null,[s("é€šè¿‡"),n("a",g,[s("history.pushState"),a(o)]),s("æˆ–"),n("a",f,[s("history.replaceState"),a(o)]),s("è¿›è¡Œè·³è½¬ã€‚")]),y,a(l,null,{default:e(()=>[a(p,{title:"React"},{default:e(()=>[w]),_:1}),a(p,{title:"Vue"},{default:e(()=>[_]),_:1})]),_:1}),j])}const E=i(k,[["render",x],["__file","jump.html.vue"]]);export{E as default};
